(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{28:function(t,e,a){"use strict";var o={name:"Welcome",props:["additionalData"],data:function(){return{docs:[]}},methods:{createNew:function(){this.$emit("createNewOne",!0)}},computed:{}},s=(a(286),a(4)),i=Object(s.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ninja_intro_welcome"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"ninja_actions"},[a("el-button",{attrs:{type:"success"},on:{click:t.createNew}},[t._v("\n            Create a "+t._s(t.additionalData.name)+"\n        ")])],1),t._v(" "),a("hr")])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("h2",[this._v("Welcome "),e("span",{staticStyle:{color:"#007AFF"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Thank you. "),e("span"),this._v(" - Management System Made Simple")])}],!1,null,null,null);e.a=i.exports},286:function(t,e,a){"use strict";var o=a(61);a.n(o).a},287:function(t,e,a){(t.exports=a(6)(!1)).push([t.i,".ninja_intro_welcome {\n  max-width: 600px;\n  margin: 45px auto 0px;\n  padding: 30px 20px;\n  background: white;\n  text-align: center;\n}\n.ninja_intro_welcome h2 {\n  font-size: 30px;\n}\n.ninja_intro_welcome .ninja_actions {\n  margin-bottom: 30px;\n}\n.ninja_intro_welcome .ninja_docs {\n  text-align: left;\n}",""])},305:function(t,e,a){"use strict";var o=a(67);a.n(o).a},306:function(t,e,a){(t.exports=a(6)(!1)).push([t.i,".header-introduction {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n}",""])},471:function(t,e,a){"use strict";a.r(e);var o=a(28),s=a(1),i=a.n(s),n={props:["openModal","form","formLabelWidth","projectSlug"],data:function(){return{openAddModal:this.openModal,errors:[]}},watch:{openAddModal:function(t){this.$emit("openTaskAddModal",t)}},methods:{saveTask:function(){var t=this;this.loading=!0,this.form.slug=this.projectSlug,axios.post("/add-task",this.form).then((function(e){t.$emit("addedTask",!1),t.$notify({title:"Success",message:"Task Saved Successfuly!",type:"success",position:"top-right"})})).catch((function(e){e.response?t.errors=e.response.data.errors:t.$notify({title:"Error",message:"Something went wrong!",type:"error",position:"top-right"})})).then((function(){t.loading=!1}))}}},l=a(4),r=Object(l.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{title:"Add New Task",visible:t.openAddModal,width:"80%","close-on-click-modal":!1},on:{"update:visible":function(e){t.openAddModal=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"Name","label-width":t.formLabelWidth}},[a("el-input",{attrs:{type:"text",placeholder:"Task Name",autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),t._v(" "),t.errors.name?a("p",{staticClass:"error-warning"},[t._v(t._s(t.errors.name[0]))]):t._e()],1),t._v(" "),a("el-form-item",{attrs:{label:"Description","label-width":t.formLabelWidth}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"Task Description",autocomplete:"off"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}}),t._v(" "),t.errors.description?a("p",{staticClass:"error-warning"},[t._v(t._s(t.errors.description[0]))]):t._e()],1),t._v(" "),a("el-form-item",{attrs:{label:"Date","label-width":t.formLabelWidth}},[a("el-date-picker",{attrs:{type:"date",placeholder:"Pick a day","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:t.form.duedate,callback:function(e){t.$set(t.form,"duedate",e)},expression:"form.duedate"}}),t._v(" "),t.errors.duedate?a("p",{staticClass:"error-warning"},[t._v(t._s(t.errors.duedate[0]))]):t._e()],1),t._v(" "),a("el-form-item",{attrs:{"label-width":t.formLabelWidth}},[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.saveTask}},[t._v("Save")])],1)],1)],1)],1)}),[],!1,null,null,null).exports,c={props:["openModalEdit","form","formLabelWidth"],data:function(){return{openEditModal:this.openModalEdit,errors:[]}},watch:{openEditModal:function(t){this.$emit("openTaskEditModal",t)}},methods:{updateTask:function(){var t=this,e=this.form;axios.post("/task/"+e.slug,e).then((function(e){t.$emit("editedTask",!1),t.$notify({title:"Success",message:"Task Updated Successfuly!",type:"success",position:"top-right"})})).catch((function(e){e.response?t.errors=e.response.data.errors:t.$notify({title:"Error",message:"Something went wrong!",type:"error",position:"top-right"})})).then((function(){}))}},mounted:function(){}},d=Object(l.a)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{title:"Edit Task",visible:t.openEditModal,width:"80%","close-on-click-modal":!1},on:{"update:visible":function(e){t.openEditModal=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"Name","label-width":t.formLabelWidth}},[a("el-input",{attrs:{type:"text",placeholder:"Task Name",autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),t._v(" "),t.errors.name?a("p",{staticClass:"error-warning"},[t._v(t._s(t.errors.name[0]))]):t._e()],1),t._v(" "),a("el-form-item",{attrs:{label:"Description","label-width":t.formLabelWidth}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"Task Description",autocomplete:"off"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}}),t._v(" "),t.errors.description?a("p",{staticClass:"error-warning"},[t._v(t._s(t.errors.description[0]))]):t._e()],1),t._v(" "),a("el-form-item",{attrs:{label:"Date","label-width":t.formLabelWidth}},[a("el-date-picker",{attrs:{type:"date",placeholder:"Pick a day","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:t.form.duedate,callback:function(e){t.$set(t.form,"duedate",e)},expression:"form.duedate"}}),t._v(" "),t.errors.duedate?a("p",{staticClass:"error-warning"},[t._v(t._s(t.errors.duedate[0]))]):t._e()],1),t._v(" "),a("el-form-item",{attrs:{"label-width":t.formLabelWidth}},[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.updateTask}},[t._v("Update")])],1)],1)],1)],1)}),[],!1,null,null,null).exports,u={components:{Welcome:o.a,AddTask:r,EditTask:d},data:function(){return{loading:!1,project_slug:"",per_page:10,page_number:1,total:0,pageSizes:[5,10,20,30,40,50,100,200],search_string:"",project:{},tasks:[],has_tasks:!1,welcomeData:{name:"Task"},bulkValue:"",bulkOptions:[{value:"delete",label:"Delete All"},{value:"pending",label:"Pending"},{value:"complete",label:"Completed"}],user:{},errors:{},taskForm:{name:"",description:"",duedata:""},openTaskModal:!1,openEditModal:!1,formLabelWidth:"120px",deletingData:!1,deleteDialogVisible:!1,selectVisibleForBulkAction:!1}},methods:{$getDate:function(t){if(t)return this.$dateFormat(t.substring(0,10))},confirmEdit:function(t){var e=this;this.loading=!0,this.errors=[],axios.post("/project/task/"+t.slug,{project_slug:this.project_slug}).then((function(t){e.openEditModal=!0,e.taskForm=t.data.task})).catch((function(t){console.log(t)})).then((function(){e.loading=!1}))},editedTask:function(){this.openEditModal=!1,this.allProjects()},openEditDialogModal:function(t){this.openEditModal=t},handleSelectionChange:function(t){this.multipleSelection=t},handleSizeChange:function(t){this.per_page=t,this.getProjectWithTasksBySlug()},handleCurrentChange:function(t){this.page_number=t,this.getProjectWithTasksBySlug()},$dateFormat:function(t){var e=void 0===t?null:t,a=i()(e);return a.isValid()?a.format("MMM DD, YYYY"):null},addedTask:function(){this.openTaskModal=!1,this.getProjectWithTasksBySlug()},openDialogModal:function(t){this.openTaskModal=t},createTask:function(){this.errors=[],this.taskForm={},this.openTaskModal=!0},getProjectWithTasksBySlug:function(){var t=this;this.loading=!0;var e=this.page_number,a=this.per_page,o=this.search_string,s=this.project_slug;axios.get("/get-project-tasks/?page="+e+"&paginate="+a+"&s="+o+"&slug="+s).then((function(e){var a=e.data.project;t.project=a,t.tasks=a.tasks,t.has_tasks=a.tasks.length,t.user=a.user})).catch((function(t){console.log(t)})).then((function(){t.loading=!1}))},confirmDelete:function(t){this.deletingData=t,this.deleteDialogVisible=!0},deleteNow:function(){var t=this,e=this.deletingData.slug;axios.post("/task/delete/"+e,{project_slug:this.project_slug}).then((function(e){t.$notify({title:"Success",message:"Successfully Deleted!",type:"success",position:"top-right"}),t.getProjectWithTasksBySlug()})).catch((function(e){t.$notify({title:"Error",message:e.responseJSON?e.responseJSON.data.message:"Error",type:"error",position:"top-right"})})).then((function(){t.deleteDialogVisible=!1}))},doAction:function(){this.multipleSelection.length&&this.bulkValue?this.selectVisibleForBulkAction=!0:this.$notify({title:"Error",message:"Please select one to continue",type:"error",position:"top-right"})},multipleSelectActionForBulkAction:function(){var t=this,e=this.bulkValue;axios.post("/tasks/bulk-action-multiple",{rows:this.multipleSelection,bulk:e,project_slug:this.project_slug}).then((function(a){t.$notify({title:"Success",message:e+" successfull'y!",type:"success",position:"top-right"}),t.getProjectWithTasksBySlug()})).catch((function(a){t.$notify({title:"Error",message:"Can't "+e,type:"error",position:"top-right"})})).then((function(){t.selectVisibleForBulkAction=!1}))}},mounted:function(){this.project_slug=this.$route.params.project_slug,this.getProjectWithTasksBySlug()}},p=(a(305),Object(l.a)(u,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"wppayforms",attrs:{"element-loading-text":"Loading...Please Wait..."}},[a("el-row",{staticStyle:{"margin-top":"60px"}},[a("el-col",{attrs:{md:{span:22,offset:1}}},[a("div",{staticClass:"el-row"},[a("div",{staticClass:"col-sm-12"},[a("ol",{staticClass:"breadcrumb"},[a("li",[a("i",{staticClass:"clip-file"}),t._v(" "),a("router-link",{attrs:{to:"/admin/todos"}},[t._v("\n                                Projects\n                            ")])],1),t._v(" "),a("li",{staticClass:"active"},[t._v("\n                            "+t._s(t.project_slug)+"\n                        ")])])])]),t._v(" "),a("div",{staticClass:"el-row"},[a("div",{staticClass:"col-sm-12 header-introduction"},[a("div",[a("h2",[t._v(t._s(t.project.name))]),t._v(" "),a("p",[t._v(t._s(t.project.description))])]),t._v(" "),a("p",[t._v("Posted by "+t._s(t.user.name)+" at "+t._s(t.$getDate(t.project.created_at)))])])]),t._v(" "),t.has_tasks?a("div",{staticClass:"all_payforms_wrapper payform_section"},[a("div",{staticClass:"payform_section_header all_payment_form_wrapper"},[a("h1",{staticClass:"payform_section_title"},[t._v("\n                        "+t._s("Tasks")+"\n                    ")]),t._v(" "),a("div",{staticClass:"payform_section_actions"},[a("div",{staticClass:"all_bulk_actions"},[a("el-select",{attrs:{clearable:"",placeholder:"Select",size:"mini"},model:{value:t.bulkValue,callback:function(e){t.bulkValue=e},expression:"bulkValue"}},t._l(t.bulkOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.doAction()}}},[t._v("Apply")])],1),t._v(" "),a("div",{staticClass:"payform_action search_action"},[a("el-input",{staticClass:"input-with-select",attrs:{size:"small",placeholder:"Search"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getProjectWithTasksBySlug()}},model:{value:t.search_string,callback:function(e){t.search_string=e},expression:"search_string"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(e){return t.getProjectWithTasksBySlug()}},slot:"append"})],1),t._v(" "),a("el-button",{staticClass:"payform_action_button",attrs:{size:"small",type:"primary"},on:{click:function(e){return t.createTask()}}},[t._v("\n                                "+t._s("Add New Task")+"\n                            ")])],1)])]),t._v(" "),a("div",{staticClass:"payform_section_body"},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tasks},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v("Id: "+t._s(e.row.id))]),t._v(" "),a("p",[t._v("Name: "+t._s(e.row.name))]),t._v(" "),a("p",[t._v("Created At: "+t._s(e.row.created_at))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"Id",prop:"id"}}),t._v(" "),a("el-table-column",{attrs:{label:"Name",prop:"name"}}),t._v(" "),a("el-table-column",{attrs:{label:"Description",prop:"description"}}),t._v(" "),a("el-table-column",{attrs:{label:"Status"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                                "+t._s("complete"===e.row.completed?"Completed":"Pending")+"\n                            ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"Due date"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                            "+t._s(t.$dateFormat(e.row.duedate))+"\n                        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"Actions"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{on:{click:function(a){return t.confirmEdit(e.row)}}},[a("i",{staticClass:"el-icon-edit"})]),t._v(" "),a("a",{on:{click:function(a){return t.confirmDelete(e.row)}}},[a("i",{staticClass:"el-icon-delete"})])]}}])})],1)],1),t._v(" "),a("div",{staticClass:"fluentpos_pagination"},[a("el-pagination",{attrs:{background:"","current-page":t.page_number,"page-size":t.per_page,"page-sizes":t.pageSizes,layout:"total, sizes, prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)]):a("div",[a("welcome",{attrs:{additionalData:t.welcomeData},on:{createNewOne:t.createTask}})],1)])],1),t._v(" "),a("el-dialog",{attrs:{title:"Are You Sure, You want to delete selected data?",visible:t.deleteDialogVisible,width:"60%"},on:{"update:visible":function(e){t.deleteDialogVisible=e}}},[a("div",{staticClass:"modal_body"},[a("p",[t._v("All the status assoscilate with this will be deleted")])]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.deleteDialogVisible=!1}}},[t._v("Cancel")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.deleteNow()}}},[t._v("Confirm")])],1)]),t._v(" "),a("el-dialog",{attrs:{title:"Are You Sure, You want to change these selected data?",visible:t.selectVisibleForBulkAction,width:"60%"},on:{"update:visible":function(e){t.selectVisibleForBulkAction=e}}},[a("div",{staticClass:"modal_body"},[a("p",[t._v("All the status assoscilate with this will be "+t._s(t.bulkValue))])]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.selectVisibleForBulkAction=!1}}},[t._v("Cancel")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.multipleSelectActionForBulkAction()}}},[t._v("Confirm")])],1)]),t._v(" "),t.openTaskModal?a("add-task",{attrs:{openModal:t.openTaskModal,form:t.taskForm,formLabelWidth:t.formLabelWidth,projectSlug:t.project_slug},on:{openTaskAddModal:t.openDialogModal,addedTask:t.addedTask}}):t._e(),t._v(" "),t.openEditModal?a("edit-task",{attrs:{openModalEdit:t.openEditModal,form:t.taskForm,formLabelWidth:t.formLabelWidth},on:{openTaskEditModal:t.openEditDialogModal,editedTask:t.editedTask}}):t._e()],1)}),[],!1,null,null,null));e.default=p.exports},61:function(t,e,a){var o=a(287);"string"==typeof o&&(o=[[t.i,o,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};a(7)(o,s);o.locals&&(t.exports=o.locals)},67:function(t,e,a){var o=a(306);"string"==typeof o&&(o=[[t.i,o,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};a(7)(o,s);o.locals&&(t.exports=o.locals)}}]);